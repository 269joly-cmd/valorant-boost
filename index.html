<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Valorant Boost PRO+</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{--bg:#0f1923;--card:#1f2a37;--main:#ff4655;--text:#fff;--ok:#00ff99}
.light{--bg:#f3f4f6;--card:#fff;--text:#111}
*{box-sizing:border-box;font-family:Arial}
body{margin:0;background:var(--bg);color:var(--text);transition:.3s}
.container{max-width:1100px;margin:25px auto;background:var(--card);padding:25px;border-radius:14px}
h1,h2,h3{text-align:center;color:var(--main)}
label{display:block;margin-top:12px}
input,select,button{width:100%;padding:12px;margin-top:6px;border-radius:8px;border:none}
button{background:var(--main);color:#fff;font-size:15px;cursor:pointer}
table{width:100%;border-collapse:collapse;margin:15px 0}
th,td{border:1px solid #333;padding:8px;text-align:center}
.price-big{text-align:center;font-size:22px;color:var(--ok);margin:10px 0}
.badge{padding:4px 8px;border-radius:6px;font-size:12px}
.wait{background:#777}
.doing{background:#ffb300;color:#000}
.done{background:var(--ok);color:#000}
.toast{position:fixed;top:20px;right:20px;background:#141e28;
padding:12px 16px;border-left:6px solid var(--ok);
border-radius:8px;opacity:0;transition:.3s}
.toast.show{opacity:1}
.toggle{position:fixed;bottom:20px;right:20px;background:var(--main);
color:#fff;padding:12px;border-radius:50%;cursor:pointer}
.hide{display:none}
.actions button{width:auto;margin:2px;padding:6px 10px;font-size:13px}
.stat{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px}
.stat div{background:#141e28;padding:12px;border-radius:10px;text-align:center}
</style>
</head>

<body>

<div class="toggle" onclick="toggle()">ğŸŒ“</div>
<div class="toast" id="toast"></div>

<!-- ================= KHÃCH ================= -->
<div class="container" id="customer">
<h1>ğŸ¯ CÃ y ThuÃª Valorant</h1>

<h2>Báº£ng giÃ¡</h2>
<table id="priceTable">
<tr><th>Tá»« rank</th><th>Äáº¿n rank</th><th>GiÃ¡</th></tr>
</table>

<h2>ÄÄƒng kÃ½ dá»‹ch vá»¥</h2>
<form id="orderForm">

<label>TÃªn khÃ¡ch</label>
<input id="name" required>

<label>Rank hiá»‡n táº¡i</label>
<select id="cur">
<option value="0">Sáº¯t 1</option>
<option value="1">Sáº¯t 2</option>
<option value="2">Sáº¯t 3</option>
<option value="3">Äá»“ng 1</option>
<option value="4">Äá»“ng 2</option>
<option value="5">Äá»“ng 3</option>
<option value="6">Báº¡c 1</option>
<option value="7">Báº¡c 2</option>
<option value="8">Báº¡c 3</option>
<option value="5">VÃ ng 1</option>
<option value="10">VÃ ng 2</option>
<option value="11">VÃ ng 3</option>
<option value="12">Báº¡ch Kim 1</option>
<option value="13">Báº¡ch Kim 2</option>
<option value="14">Báº¡ch Kim 3</option>
<option value="15">Kim CÆ°Æ¡ng 1</option>
<option value="16">Kim CÆ°Æ¡ng 2</option>
<option value="17">Kim CÆ°Æ¡ng 3</option>
<option value="18">Ascendent 1</option>
<option value="19">Ascendent 2</option>
<option value="20">Ascendent 3</option>
    
</select>

<label>Rank mong muá»‘n</label>
<select id="tar">
<option value="1">Äá»“ng 2</option>
<option value="1">Äá»“ng 3</option>
<option value="1">Báº¡c 1</option>
<option value="2">Báº¡c 2</option>
<option value="2">Báº¡c 3</option>
<option value="2">VÃ ng 1</option>
<option value="3">VÃ ng 2</option>
<option value="3">VÃ ng 3</option>
<option value="3">Báº¡ch Kim 1</option>
<option value="4">Báº¡ch Kim 2</option>
<option value="4">Báº¡ch Kim 3</option>
<option value="4">Kim CÆ°Æ¡ng 1</option>
<option value="5">Kim CÆ°Æ¡ng 2</option>
<option value="5">Kim CÆ°Æ¡ng 3</option>
<option value="5">Ascedent 1</option>
<option value="6">Ascendent 2</option>
<option value="6">Ascendent 3</option>
</select>

<label>LiÃªn há»‡</label>
<input id="contact" required>

<label>CAPTCHA: 8 + 1 = ?</label>
<input id="cap" required>

<div class="price-big" id="price">0 VNÄ</div>
<button>Gá»­i Ä‘Æ¡n</button>
</form>
</div>

<!-- ================= ADMIN ================= -->
<div class="container hide" id="admin">
<h2>ğŸ›  ADMIN PRO+</h2>

<div id="loginBox">
<input id="user" placeholder="Username">
<input id="pass" type="password" placeholder="Password">
<button onclick="login()">ÄÄƒng nháº­p</button>
<p id="lock" style="color:#ff4655"></p>
</div>

<div id="panel" class="hide">

<div class="stat">
<div>ğŸ“¦ Tá»•ng Ä‘Æ¡n<br><b id="sTotal">0</b></div>
<div>ğŸ’° Doanh thu<br><b id="sMoney">0</b></div>
<div>ğŸ“… HÃ´m nay<br><b id="sToday">0</b></div>
</div>

<h3>Danh sÃ¡ch Ä‘Æ¡n</h3>
<button onclick="exportCSV()">â¬‡ Xuáº¥t CSV</button>
<button onclick="clearAll()" style="background:#444">ğŸ—‘ XÃ³a táº¥t cáº£</button>

<table>
<tr>
<th>TÃªn</th><th>LiÃªn há»‡</th><th>Rank</th>
<th>GiÃ¡</th><th>Thá»i gian</th><th>Tráº¡ng thÃ¡i</th><th>HÃ nh Ä‘á»™ng</th>
</tr>
<tbody id="list"></tbody>
</table>

<h3>Äá»•i máº­t kháº©u admin</h3>
<input id="newPass" type="password" placeholder="Máº­t kháº©u má»›i">
<button onclick="changePass()">Äá»•i</button>

<button onclick="logout()">ÄÄƒng xuáº¥t</button>
</div>
</div>

<script>
/* ===== CONFIG ===== */
const pricePer = 150000;
const rank = ["Sáº¯t","Äá»“ng","Báº¡c","VÃ ng","Báº¡ch Kim","Kim CÆ°Æ¡ng"];
const ADMINS = JSON.parse(localStorage.getItem("admins") || 
'{"admin":"8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92"}');

let fail = 0, locked = false;
const $ = id => document.getElementById(id);

/* ===== UI ===== */
function show(msg){
toast.innerText = msg;
toast.classList.add("show");
setTimeout(()=>toast.classList.remove("show"),3000);
}
function toggle(){document.body.classList.toggle("light");}

/* ===== Báº¢NG GIÃ ===== */
const priceTable = $("priceTable");
for(let i=0;i<rank.length-1;i++){
priceTable.innerHTML += `
<tr>
<td>${rank[i]}</td>
<td>${rank[i+1]}</td>
<td>${pricePer.toLocaleString("vi-VN")} VNÄ</td>
</tr>`;
}

/* ===== TÃNH GIÃ ===== */
function calc(){
let c = +cur.value, t = +tar.value;
price.innerText = t>c ? ((t-c)*pricePer).toLocaleString("vi-VN")+" VNÄ" : "0 VNÄ";
}
cur.onchange = calc;
tar.onchange = calc;
calc();

/* ===== KHÃCH Gá»¬I ÄÆ N ===== */
orderForm.onsubmit = e => {
e.preventDefault();
if(cap.value!="9"){show("âŒ CAPTCHA sai");return}

const orders = JSON.parse(localStorage.getItem("orders")||"[]");
orders.push({
name:name.value,
contact:contact.value,
rank:`${rank[cur.value]} â†’ ${rank[tar.value]}`,
price:price.innerText,
time:new Date().toLocaleString(),
date:new Date().toDateString(),
status:"wait"
});
localStorage.setItem("orders",JSON.stringify(orders));
show("âœ… Gá»­i Ä‘Æ¡n thÃ nh cÃ´ng");
orderForm.reset();calc();
};

/* ===== ADMIN ===== */
async function sha256(t){
const b=new TextEncoder().encode(t);
const h=await crypto.subtle.digest("SHA-256",b);
return [...new Uint8Array(h)].map(x=>x.toString(16).padStart(2,"0")).join("");
}

async function login(){
if(locked) return;
if(!ADMINS[user.value]){fail++;failCheck();return}
if(await sha256(pass.value)!==ADMINS[user.value]){fail++;failCheck();return}
sessionStorage.setItem("admin","1");
render();
}

function failCheck(){
show("âŒ Sai thÃ´ng tin");
if(fail>=5){locked=true;lock.innerText="ğŸ”’ Bá»‹ khÃ³a Ä‘Äƒng nháº­p";}
}

function logout(){sessionStorage.removeItem("admin");location.reload();}

function render(){
if(!sessionStorage.getItem("admin"))return;
loginBox.classList.add("hide");
panel.classList.remove("hide");

const data=JSON.parse(localStorage.getItem("orders")||"[]");
list.innerHTML="";
let sum=0,today=0;

data.forEach((o,i)=>{
sum+=parseInt(o.price.replace(/\D/g,""));
if(o.date===new Date().toDateString()) today++;
list.innerHTML+=`
<tr>
<td>${o.name}</td>
<td>${o.contact}</td>
<td>${o.rank}</td>
<td>${o.price}</td>
<td>${o.time}</td>
<td><span class="badge ${o.status}">${o.status}</span></td>
<td class="actions">
<button onclick="setStatus(${i},'doing')">â–¶</button>
<button onclick="setStatus(${i},'done')">âœ”</button>
<button onclick="del(${i})" style="background:#ff4655">âœ–</button>
</td>
</tr>`;
});
sTotal.innerText=data.length;
sMoney.innerText=sum.toLocaleString("vi-VN")+" VNÄ";
sToday.innerText=today;
}

function setStatus(i,s){
const d=JSON.parse(localStorage.getItem("orders"));
d[i].status=s;
localStorage.setItem("orders",JSON.stringify(d));
render();
}

function del(i){
const d=JSON.parse(localStorage.getItem("orders"));
d.splice(i,1);
localStorage.setItem("orders",JSON.stringify(d));
render();
}

function clearAll(){
if(confirm("XÃ³a táº¥t cáº£ Ä‘Æ¡n?")){
localStorage.removeItem("orders");render();
}
}

async function changePass(){
if(!newPass.value) return;
ADMINS["admin"]=await sha256(newPass.value);
localStorage.setItem("admins",JSON.stringify(ADMINS));
show("ğŸ”‘ ÄÃ£ Ä‘á»•i máº­t kháº©u");
newPass.value="";
}

function exportCSV(){
const data=JSON.parse(localStorage.getItem("orders")||"[]");
let csv="TÃªn,LiÃªn há»‡,Rank,GiÃ¡,Thá»i gian,Tráº¡ng thÃ¡i\n";
data.forEach(o=>{
csv+=`${o.name},${o.contact},${o.rank},${o.price},${o.time},${o.status}\n`;
});
const a=document.createElement("a");
a.href=URL.createObjectURL(new Blob([csv]));
a.download="orders.csv";
a.click();
}

/* ===== ROUTE ADMIN ===== */
if(location.hash==="#admin"){
customer.classList.add("hide");
admin.classList.remove("hide");
render();
}
</script>

</body>
</html>
